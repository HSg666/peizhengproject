"use strict";const e=require("../../common/vendor.js"),t={__name:"counter",props:{second:{type:Number,default:0},format:{type:String,default:"MM-dd hh:mm"},sformat:{type:String,default:"hh:mm:ss"},suffix:{type:String,default:""}},emits:["counterOver"],setup(t,{emit:r}){const o=t,n=r,s=e.ref("");e.onMounted((()=>{s.value=a(o.second)}));const a=e=>{let t;const r=setInterval((()=>{t=(e-=1e3)<=0?(clearInterval(r),n("counterOver"),f(0,o.sformat,o.suffix)):(t=f(e,o.sformat,o.suffix),t),s.value=t}),1e3)},u=e=>(e<0&&(e=0),e<10&&(e="0"+e),e),f=(e,t,r)=>{const o={"h+":u(Math.floor(e/1e3/60/60%24)),"m+":u(Math.floor(e/1e3/60%60)),"s+":u(Math.floor(e/1e3%60))};for(let n in o)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?o[n]:("00"+o[n]).substr((""+o[n]).length)));return t+r};return(t,r)=>({a:e.t(s.value)})}};wx.createComponent(t);
