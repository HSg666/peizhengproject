"use strict";const e=require("../../../common/vendor.js");if(!Array){(e.resolveComponent("counter")+e.resolveComponent("formater")+e.resolveComponent("uni-popup"))()}Math||((()=>"../../../components/counter/counter.js")+(()=>"../../../components/formater/formater.js")+(()=>"../../../uni_modules/uni-popup/components/uni-popup/uni-popup.js"))();const a={__name:"index",setup(a){const t=getApp(),l=e.ref({}),s=e.ref(null),u=e.computed((()=>({"待支付":"10","待服务":"20","已完成":"30","已取消":"40"}[l.value.trade_state])));e.onLoad((e=>{v(e.oid)}));const v=a=>{t.globalData.utils.request({url:"/order/detail",method:"GET",header:{token:e.index.getStorageSync("token")},data:{oid:a},success:e=>{l.value=e.data.data,console.log(l.value,"res")},fail:a=>{e.index.showToast({title:a.msg,duration:1e3,icon:"none"})}})},r=()=>{v()},o=a=>{s.value.open("center"),(a=>{var t=new e.UQRCode;t.data=a,t.size=200,t.make();var l=e.index.createCanvasContext("qrcode");t.canvasContext=l,t.drawCanvas()})(a)},n=()=>{s.value.close(),e.index.switchTab({url:"../../order/index"})};return(a,t)=>e.e({a:e.n("od-jd od-jd-"+u.value),b:10==u.value},10==u.value?{c:e.o(r),d:e.p({second:l.value._exp_time}),e:e.t(l.value.price),f:e.o((e=>o(l.value.code_url)))}:{},{g:20==u.value},20==u.value?e.e({h:0==l.value.service_state},(l.value.service_state,{}),{i:1==l.value.service_state},(l.value.service_state,{})):{},{j:30==u.value},(u.value,{}),{k:40==u.value},(u.value,{}),{l:20==u.value},20==u.value?{m:l.value._staff.avatar_url,n:e.t(l.value._staff.nickname),o:e.o((a=>{return t=l.value._staff.mobile,void e.index.makePhoneCall({phoneNumber:t});var t}))}:{},{p:e.t(l.value.service_name),q:l.value.service_stype<=20},l.value.service_stype<=20?e.e({r:e.t(l.value.hospital_name),s:e.p({timestamp:l.value.starttime,format:"YYYY-MM-dd hh:mm"}),t:e.t(l.value.client_name),v:e.t(1==l.value.client_sex?"男":"女"),w:e.t(l.value.client_age),x:e.t(l.value.tel),y:15==l.value.service_stype},15==l.value.service_stype?{z:e.t(l.value.receiveAddress)}:{}):{},{A:l.value.service_stype>20&&l.value.service_stype<100},l.value.service_stype>20&&l.value.service_stype<100?{B:e.t(l.value.hospital_name),C:e.p({timestamp:l.value.starttime,format:"YYYY-MM-dd hh:mm"}),D:e.t(l.value.address.userName),E:e.t(l.value.address.telNumber),F:e.t(l.value.address.cityName),G:e.t(l.value.address.countyName),H:e.t(l.value.address.detailInfo)}:{},{I:l.value.service_stype>100},l.value.service_stype>100?{J:e.p({timestamp:l.value.starttime,format:"YYYY-MM-dd hh:mm"}),K:e.t(l.value.client_name),L:e.t(1==l.value.client_sex?"男":"女"),M:e.t(l.value.client_age),N:e.t(l.value.client_mobile),O:e.t(l.value.address.address)}:{},{P:e.t(l.value.demand),Q:e.t(l.value.tel),R:e.p({timestamp:l.value.order_start_time,format:"YYYY-MM-dd hh:mm"}),S:e.t(l.value.price),T:20==u.value},20==u.value?{U:e.t(l.value.price),V:e.p({timestamp:l.value.pay_time,format:"YYYY-MM-dd hh:mm"})}:{},{W:e.t(l.value.out_trade_no),X:e.o(n),Y:e.sr(s,"86379e58-6",{k:"QRCodePopup"}),Z:e.p({type:"center","is-mask-click":!1,"background-color":"#fff"})})}};wx.createPage(a);
